<!-- In resources/templates/signup.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Signup</title>
</head>

<body>
	<h2>Signup (AJAX)</h2>
	<form id="signupForm">
		<input type="text" id="fullName" placeholder="Full Name" required><br>
		<input type="email" id="email" placeholder="Email" required><br>
		<input type="password" id="password" placeholder="Password" required><br>
		<button type="submit">Signup</button>
	</form>
	<div id="message"></div>
	<script>
		document.getElementById("signupForm").addEventListener("submit", function (e) {
			e.preventDefault();
			const data = {
				fullName: document.getElementById("fullName").value,
				email: document.getElementById("email").value,
				password: document.getElementById("password").value
			};
			fetch("/api/signup", {
				method: "POST",
				headers: {"Content-Type": "application/json"},
				body: JSON.stringify(data)
			})
				.then(res => res.json())
				.then(response => {
					const msg = document.getElementById("message");
					msg.style.color = response.success ? "green" : "red";
					msg.innerText = response.message;
					if (response.success) setTimeout(() => window.location.href = "/login", 1500);
				});
		});
	</script>
</body>

</html>