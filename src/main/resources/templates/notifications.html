<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Notifications - Friend Requests</title>
	<meta charset="UTF-8" />
	<link rel="stylesheet" th:href="@{/css/notifications.css}" />
</head>

<body>
	<div class="navbar">
		<h1>FriendBook</h1>
		<div>
			<a th:href="@{/profile}">Home</a>
			<a th:href="@{/posts}">Feed</a>
			<a th:href="@{/notifications}">Notifications</a>
			<a th:href="@{/logout}">Logout</a>
		</div>
	</div>

	<div class="container">
		<h2>Friend Request Notifications</h2>

		<div th:if="${pendingRequests != null and pendingRequests.isEmpty()}" class="no-requests">
			You have no pending friend requests.
		</div>

		<div th:if="${pendingRequests != null and !pendingRequests.isEmpty()}">
			<div th:each="req : ${pendingRequests}" class="request" th:id="'request-' + ${req.sender.username}">
				<div class="request-info">
					<span th:text="${req.sender.fullName}">Sender Name</span> sent you a friend request.
				</div>
				<div class="buttons">
					<button type="button" class="accept-btn" th:attr="data-username=${req.sender.username}"
						onclick="handleAccept(this)">Accept</button>
					<button type="button" class="decline-btn" th:attr="data-username=${req.sender.username}"
						onclick="handleDecline(this)">Decline</button>
				</div>
			</div>
		</div>
	</div>
	<script th:src="@{/js/notifications.js}" ></script>
</body>

</html>